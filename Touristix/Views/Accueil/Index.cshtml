@using Touristix.Models
@model Touristix.Models.ImagesAccueilModel

@{
    ViewBag.Title = "Index";
}

@section scripts {

<script type="text/javascript">

    var Repertoire = 'Images/Destinations/';
    var Images = new Array;
    var NombreImages = 0;
    var ImageActuelle = 0;
    var NombreHasard = 0;

    @foreach(var image in Model.TableauImagesAccueil)
    {
        <text>
            Images[NombreImages] = "@image";
            NombreImages++;
        </text>
    }

    RafraichirImage();

    function NombreAleatoire() {
        while(NombreImages > 1 && ImageActuelle == NombreHasard)
        {
            NombreHasard = Math.round(Math.random() * (NombreImages - 1))
        }
        ImageActuelle = NombreHasard;
        return NombreHasard;
    }

    function RafraichirImage() {
        document.getElementById("ImageActive").style.backgroundImage = "url('" + Repertoire + Images[NombreAleatoire()] + "')";
        $("#mycarousel").carousel();
    }

    setInterval(function () { RafraichirImage() }, 10000);

</script>
}

<h2>Bienvenue sur Touristix, le meilleur site sur les destinations</h2>

<div class="outer" id="ImageActive" style="background-size:100% 100%; height:300px; width:500px"></div>


<div id="myCarousel" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li class="active" data-slide-to="0" data-target="#myCarousel"></li>
        <li class="" data-slide-to="1" data-target="#myCarousel"></li>
        <li class="" data-slide-to="2" data-target="#myCarousel"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <div class="item">
                <img alt="Second slide" src="../../../Images/Batiments/Ashton.jpg"/>
            </div>
            <div class="item">
                <img alt="Third slide" src="../../../Images/Batiments/Ashton.jpg"/>
            </div>
        </div>
        <a class="left carousel-control" data-slide="prev" role="button" href="#myCarousel">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" data-slide="next" role="button" href="#myCarousel">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>